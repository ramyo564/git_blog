<!-- Mermaid.js만 로드 -->
<script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async function() {
  mermaid.initialize({ startOnLoad: true, theme: "default" });

  // Jekyll의 <pre><code class="language-mermaid">...</code></pre>를 변환
  document.querySelectorAll('code.language-mermaid').forEach(function(block) {
    var pre = block.parentElement;
    var container = document.createElement('div');
    container.className = 'mermaid';
    container.textContent = block.textContent;
    pre.parentNode.replaceChild(container, pre);
  });

  // Mermaid 다이어그램 렌더링 (비동기)
  await mermaid.run({ querySelector: '.mermaid' });
});
</script>
