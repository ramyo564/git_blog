<script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  mermaid.initialize({ startOnLoad: true, theme: "default" });
  // Jekyll이 <pre><code class="language-mermaid">...</code></pre>로 바꾼 코드블록을 Mermaid div로 변환
  document.querySelectorAll('code.language-mermaid').forEach(function(block) {
    var pre = block.parentElement;
    var container = document.createElement('div');
    container.className = 'mermaid';
    container.textContent = block.textContent;
    pre.parentNode.replaceChild(container, pre);
  });
  // 변환된 Mermaid div에 대해 Mermaid 렌더링 실행
  mermaid.init(undefined, document.querySelectorAll('.mermaid'));
});
</script>
